<Window
    x:Class="PDFViewer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <NavigationView x:Name="NavView"
                        IsBackButtonVisible="Collapsed"
                        IsSettingsVisible="False"
                        PaneDisplayMode="Left"
                        OpenPaneLength="280"
                        IsPaneToggleButtonVisible="True"
                        Header="PDF Viewer">
            
            <NavigationView.MenuItems>
                <NavigationViewItem Icon="Document" Content="Visualizzatore" Tag="viewer" IsSelected="True"/>
                <NavigationViewItem Icon="OpenFile" Content="Apri File" Tag="open"/>
            </NavigationView.MenuItems>

            <NavigationView.PaneFooter>
                <StackPanel Padding="16,16,16,24" Spacing="8">
                    <TextBlock Text="File corrente" 
                               FontSize="11" 
                               Opacity="0.6"
                               FontWeight="SemiBold"
                               Margin="0,0,0,4"/>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE7C3;" FontSize="14" Opacity="0.7"/>
                        <TextBlock x:Name="FileNameTextBlock" 
                                  Text="Nessun file"
                                  FontSize="12"
                                  TextWrapping="Wrap"
                                  TextTrimming="CharacterEllipsis"
                                  MaxLines="2"/>
                    </StackPanel>
                </StackPanel>
            </NavigationView.PaneFooter>

            <Grid>
                <!-- Area contenuto principale -->
                <Grid>
                    <!-- Visualizzatore PDF -->
                    <Border x:Name="ViewerPanel" 
                            Background="{ThemeResource LayerFillColorDefaultBrush}"
                            CornerRadius="8"
                            Margin="16">
                        
                        <Grid>
                            <ScrollViewer x:Name="PdfScrollViewer"
                                        HorizontalScrollBarVisibility="Auto"
                                        VerticalScrollBarVisibility="Auto"
                                        ZoomMode="Enabled"
                                        MinZoomFactor="0.5"
                                        MaxZoomFactor="5.0">
                                <Grid x:Name="PdfContainer" 
                                      HorizontalAlignment="Center" 
                                      VerticalAlignment="Center"
                                      Padding="32">
                                    
                                    <Image x:Name="PdfImage" 
                                           Stretch="Uniform"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                                </Grid>
                            </ScrollViewer>

                            <!-- Welcome screen stile Store -->
                            <Grid x:Name="WelcomePanel" Padding="48">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="1" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"
                                           Spacing="24"
                                           MaxWidth="600">
                                    
                                    <!-- Icona hero -->
                                    <Viewbox Width="120" Height="120">
                                        <SymbolIcon Symbol="Document"/>
                                    </Viewbox>

                                    <!-- Titolo e descrizione -->
                                    <StackPanel Spacing="12" HorizontalAlignment="Center">
                                        <TextBlock Text="Benvenuto nel Visualizzatore PDF" 
                                                  FontSize="28" 
                                                  FontWeight="Bold"
                                                  HorizontalAlignment="Center"
                                                  TextWrapping="Wrap"/>
                                        <TextBlock Text="Apri un documento per iniziare la visualizzazione con interfaccia moderna e sfondo traslucido Mica" 
                                                  FontSize="14" 
                                                  Opacity="0.7"
                                                  TextAlignment="Center"
                                                  TextWrapping="Wrap"
                                                  MaxWidth="400"/>
                                    </StackPanel>

                                    <!-- Pulsante azione principale -->
                                    <Button Click="OpenFileButton_Click"
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource AccentButtonStyle}"
                                           Padding="32,12">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <SymbolIcon Symbol="OpenFile"/>
                                            <TextBlock Text="Sfoglia e apri un PDF" FontSize="16"/>
                                        </StackPanel>
                                    </Button>

                                    <!-- Feature cards -->
                                    <Grid Margin="0,32,0,0" ColumnSpacing="16" RowSpacing="16">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Card 1 -->
                                        <Border Grid.Column="0" 
                                               Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                               CornerRadius="8"
                                               Padding="16"
                                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                               BorderThickness="1">
                                            <StackPanel Spacing="8">
                                                <SymbolIcon Symbol="View" Width="32" Height="32"/>
                                                <TextBlock Text="Alta QualitÃ " FontWeight="SemiBold"/>
                                                <TextBlock Text="Rendering ad alta definizione" 
                                                          FontSize="12" 
                                                          Opacity="0.7"
                                                          TextWrapping="Wrap"/>
                                            </StackPanel>
                                        </Border>

                                        <!-- Card 2 -->
                                        <Border Grid.Column="1" 
                                               Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                               CornerRadius="8"
                                               Padding="16"
                                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                               BorderThickness="1">
                                            <StackPanel Spacing="8">
                                                <SymbolIcon Symbol="ZoomIn" Width="32" Height="32"/>
                                                <TextBlock Text="Zoom Avanzato" FontWeight="SemiBold"/>
                                                <TextBlock Text="Fino al 500% di ingrandimento" 
                                                          FontSize="12" 
                                                          Opacity="0.7"
                                                          TextWrapping="Wrap"/>
                                            </StackPanel>
                                        </Border>

                                        <!-- Card 3 -->
                                        <Border Grid.Column="2" 
                                               Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                               CornerRadius="8"
                                               Padding="16"
                                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                               BorderThickness="1">
                                            <StackPanel Spacing="8">
                                                <FontIcon Glyph="&#xE91B;" FontSize="32"/>
                                                <TextBlock Text="Design Mica" FontWeight="SemiBold"/>
                                                <TextBlock Text="Sfondo traslucido moderno" 
                                                          FontSize="12" 
                                                          Opacity="0.7"
                                                          TextWrapping="Wrap"/>
                                            </StackPanel>
                                        </Border>
                                    </Grid>
                                </StackPanel>
                            </Grid>

                            <!-- Barra controlli volante a destra -->
                            <Border x:Name="FloatingControlsBar"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="24"
                                   Background="{ThemeResource AcrylicInAppFillColorDefaultBrush}"
                                   CornerRadius="8"
                                   Padding="8"
                                   BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                   BorderThickness="1"
                                   Visibility="Collapsed">
                                
                                <StackPanel Spacing="4">
                                    <!-- Zoom -->
                                    <TextBlock Text="Zoom" 
                                              FontSize="10" 
                                              Opacity="0.6"
                                              HorizontalAlignment="Center"
                                              Margin="0,0,0,4"/>
                                    
                                    <Button Click="ZoomInButton_Click" 
                                           Width="40" Height="40"
                                           ToolTipService.ToolTip="Ingrandisci">
                                        <SymbolIcon Symbol="Add"/>
                                    </Button>
                                    
                                    <TextBlock x:Name="FloatingZoomLevel" 
                                              Text="100%" 
                                              FontSize="12"
                                              FontWeight="SemiBold"
                                              HorizontalAlignment="Center"
                                              Margin="0,4"/>
                                    
                                    <Button Click="ZoomOutButton_Click" 
                                           Width="40" Height="40"
                                           ToolTipService.ToolTip="Riduci">
                                        <SymbolIcon Symbol="Remove"/>
                                    </Button>
                                    
                                    <Button Click="ZoomResetButton_Click" 
                                           Width="40" Height="32"
                                           Margin="0,4,0,0"
                                           ToolTipService.ToolTip="Reset zoom">
                                        <FontIcon Glyph="&#xE71E;" FontSize="14"/>
                                    </Button>
                                    
                                    <Border Height="1" 
                                           Background="{ThemeResource DividerStrokeColorDefaultBrush}"
                                           Margin="4,8"/>
                                    
                                    <!-- Navigazione pagine -->
                                    <TextBlock Text="Pagine" 
                                              FontSize="10" 
                                              Opacity="0.6"
                                              HorizontalAlignment="Center"
                                              Margin="0,0,0,4"/>
                                    
                                    <Button x:Name="FloatingPreviousButton"
                                           Click="PreviousPageButton_Click" 
                                           Width="40" Height="40"
                                           IsEnabled="False"
                                           ToolTipService.ToolTip="Pagina precedente">
                                        <SymbolIcon Symbol="Up"/>
                                    </Button>
                                    
                                    <TextBlock x:Name="FloatingPageInfo" 
                                              Text="0/0" 
                                              FontSize="11"
                                              FontWeight="SemiBold"
                                              HorizontalAlignment="Center"
                                              Margin="0,4"/>
                                    
                                    <Button x:Name="FloatingNextButton"
                                           Click="NextPageButton_Click" 
                                           Width="40" Height="40"
                                           IsEnabled="False"
                                           ToolTipService.ToolTip="Pagina successiva">
                                        <SymbolIcon Symbol="Down"/>
                                    </Button>
                                </StackPanel>
                            </Border>

                            <!-- Info bar in basso -->
                            <Border VerticalAlignment="Bottom"
                                   Background="{ThemeResource AcrylicInAppFillColorDefaultBrush}"
                                   Padding="16,8"
                                   Margin="16"
                                   CornerRadius="4">
                                <TextBlock x:Name="StatusTextBlock" 
                                          Text="Pronto" 
                                          VerticalAlignment="Center"
                                          FontSize="12"/>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>
        </NavigationView>
    </Grid>
</Window>
